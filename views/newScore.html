
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>New Score</title>
        <script src="/vendor/jquery/dist/jquery.min.js"></script>
        <script src="/vendor/underscore/underscore-min.js"></script>
        <script src="/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="/vendor/bootstrap/dist/css/bootstrap.min.css">
        <script src="/static/javascript/newscore.js"></script>
        <link rel="stylesheet" type="text/css" href="/static/css/newscore.css">

        <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    </head>
    <body>
    <div class='container'>

          <!-- NAVBAR AT TOP OF PAGE -->

          <nav class="navbar navbar-default">
            <div class="container-fluid">
              <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">i.Caddy</a>
              </div>

              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                <ul class="nav navbar-nav navbar-right">
                  <li><a href="/">My Profile</a></li>
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Golfer Options<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      <li><a href="/mycourses">Submit A New Score</a></li>
                      <li><a href="/scorelist">View All Scores</a></li>
                      <li><a href="/scorecard">Create a New Scorecard Template</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="/logout">Logout</a></li>
                    </ul>
                  </li>
                </ul>
              </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
          </nav>
          

          <h3 id='courseName'>Course: </h3>


          <form method='POST' action='/:course/newscore' id='new-score'>

            <div class="input-group input-group">
                <span class="input-group-addon" id="sizing-addon1">Date of Game:</span>
                <input placeholder="Date of Round" class="form-control" type="" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" name='date' required='true'>
            </div><br>

                <input type="hidden" id="courseID" name='courseID' value=''>
                <input type="hidden" id="courseNameVal" name='courseName' value=''><br>

                        <table class='table'>

                                <div class='row'>


                                        <div class='col-xs-3 col-md-1'>

                                               <!-- Hole Number 1 - 18 -->
                                               <p class='well well-sm'>1</p>
                                               <p class='well well-sm'>2</p>
                                               <p class='well well-sm'>3</p>
                                               <p class='well well-sm'>4</p>
                                               <p class='well well-sm'>5</p>
                                               <p class='well well-sm'>6</p>
                                               <p class='well well-sm'>7</p>
                                               <p class='well well-sm'>8</p>
                                               <p class='well well-sm'>9</p>
                                               <p class='well well-sm'>10</p>                                       
                                               <p class='well well-sm'>11</p>
                                               <p class='well well-sm'>12</p>
                                               <p class='well well-sm'>13</p>
                                               <p class='well well-sm'>14</p>
                                               <p class='well well-sm'>15</p>
                                               <p class='well well-sm'>16</p>
                                               <p class='well well-sm'>17</p>
                                               <p class='well well-sm'>18</p>
                                        </div>

                                        <div class='col-xs-3 col-md-1'>

                                                <!-- Par for Holes 1 - 18 -->
                                                <p class='well well-sm' id='par1'></p>
                                                <p class='well well-sm' id='par2'></p>
                                                <p class='well well-sm' id='par3'></p>
                                                <p class='well well-sm' id='par4'></p>
                                                <p class='well well-sm' id='par5'></p>
                                                <p class='well well-sm' id='par6'></p>
                                                <p class='well well-sm' id='par7'></p>
                                                <p class='well well-sm' id='par8'></p>
                                                <p class='well well-sm' id='par9'></p>
                                                <p class='well well-sm' id='par10'></p>
                                                <p class='well well-sm' id='par11'></p>
                                                <p class='well well-sm' id='par12'></p>
                                                <p class='well well-sm' id='par13'></p>
                                                <p class='well well-sm' id='par14'></p>
                                                <p class='well well-sm' id='par15'></p>
                                                <p class='well well-sm' id='par16'></p>
                                                <p class='well well-sm' id='par17'></p>
                                                <p class='well well-sm' id='par18'></p>                                                                                                
                                        </div>

                                        <div class='col-xs-3 col-md-1'>

                                                <!-- Score for Holes 1 - 9 -->
                                                <input type="number" name='score[]' id='score1' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true' onclick='calc()'>
                                                <input type="number" name='score[]' id='score2' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score3' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score4' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score5' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score6' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score7' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score8' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score9' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score10' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score11' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score12' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score13' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score14' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score15' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score16' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score17' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='score[]' id='score18' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>

                                        </div>


                                        <div class='col-xs-3 col-md-1'>

                                                <!-- Number of Putts Holes 1 - 18 -->
                                                <input type="number" name='putts[]' id='putts1' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts2' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts3' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts4' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts5' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts6' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts7' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts8' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts9' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts10' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts11' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts12' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts13' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts14' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts15' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts16' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts17' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>
                                                <input type="number" name='putts[]' id='putts18' class="form-control" placeholder="1st hole" aria-describedby="sizing-addon2" min='1' max='10' required='true'>

                                        </div>

                                        <div class='col-xs-3 col-md-1'>

                                                <!-- Nett Score for 1 - 18 -->

                                            <p class='well well-sm' id='nett1'></p>
                                            <p class='well well-sm' id='nett2'></p>
                                            <p class='well well-sm' id='nett3'></p>
                                            <p class='well well-sm' id='nett4'></p>
                                            <p class='well well-sm' id='nett5'></p>
                                            <p class='well well-sm' id='nett6'></p>                                 <p class='well well-sm' id='nett7'></p>
                                            <p class='well well-sm' id='nett8'></p>                
                                            <p class='well well-sm' id='nett9'></p>                         
                                            <p class='well well-sm' id='nett10'></p>
                                            <p class='well well-sm' id='nett11'></p>
                                            <p class='well well-sm' id='nett12'></p>
                                            <p class='well well-sm' id='nett13'></p>
                                            <p class='well well-sm' id='nett14'></p>
                                            <p class='well well-sm' id='nett15'></p>                                <p class='well well-sm' id='nett16'></p>
                                            <p class='well well-sm' id='nett17'></p>
                                            <p class='well well-sm' id='nett18'></p>

                                        </div>

                                </div>

                        </table><br>
                        <button class="btn btn-default">Submit Scorecard Template</button>
                    </form>






    </div> <!-- for container class -->



        <!-- JQUERY TO EXTRACT COURSE ID FROM URL BAR AND PUT IN HIDDEN FIELD -->

        <script>

        function displayAll(data) {
                var info = data;
                var par = data[0].par;
                var name = data[0].coursename;
                console.log(typeof(par[4]));
                
                // Adding course name //
                $('#courseName').append(name);
                $('#courseNameVal').val(name);

                // JQuery for adding Par to each hole //
                $('#par1').text(par[0]);
                $('#par2').text(par[1]);
                $('#par3').text(par[2]);
                $('#par4').text(par[3]);
                $('#par5').text(par[4]);
                $('#par6').text(par[5]);
                $('#par7').text(par[6]);
                $('#par8').text(par[7]);
                $('#par9').text(par[8]);
                $('#par10').text(par[9]);
                $('#par11').text(par[10]);
                $('#par12').text(par[11]);
                $('#par13').text(par[12]);
                $('#par14').text(par[13]);
                $('#par15').text(par[14]);
                $('#par16').text(par[15]);                               
                $('#par17').text(par[16]);
                $('#par18').text(par[17]);
        }



     function calc() {
            var score1 = $('#score1').val();
            $('#nett1').text(score1);
     }



     $items = $('#numberOfItems').val();
     $weightitem = $('#weightitem').val();


        function courseData() {
            var pathArray = window.location.pathname.split('/');
            var courseID = pathArray[1]; 
            var customURL = "/" + courseID + '.json'           
            // REGEX to extract the course ID
            $('#courseID').val(courseID);

            // 1. AJAX request to get course info, querying DB using courseID
            
            $.ajax({
                    url: customURL,
                    type: 'GET',
                    datatype: 'json',
                    success: displayAll
            });
        };

        $(function() {

            courseData();

        });




        </script>



    </body>
</html>